module.exports=function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=10)}([function(t,e){t.exports=flarum.core.compat.app},function(t,e){t.exports=flarum.core.compat.extend},function(t,e){t.exports=flarum.core.compat["components/SettingsPage"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionList"]},function(t,e){t.exports=flarum.core.compat["components/DiscussionListItem"]},function(t,e){t.exports=flarum.core.compat["utils/string"]},function(t,e){t.exports=flarum.core.compat["components/FieldSet"]},function(t,e){t.exports=flarum.core.compat["utils/ItemList"]},function(t,e){t.exports=flarum.core.compat["components/Switch"]},function(t,e){t.exports=flarum.core.compat["utils/Stream"]},function(t,e,n){"use strict";n.r(e);var s=n(0),o=n.n(s),r=n(1),i=n(3),a=n.n(i),c=n(4),u=n.n(c),p=n(5);var f=n(2),l=n.n(f),d=n(6),y=n.n(d),x=n(7),h=n.n(x),b=n(8),g=n.n(b),S=n(9),v=n.n(S);o.a.initializers.add("ianm-synopsis",(function(){Object(r.extend)(a.a.prototype,"requestParams",(function(t){t.include.push(["firstPost","lastPost"])})),Object(r.extend)(u.a.prototype,"infoItems",(function(t){var e=this.attrs.discussion;if(!o.a.session.user||o.a.session.user.preferences().showSynopsisExcerpts){var n="first"===o.a.forum.attribute("synopsis.excerpt_type")?e.firstPost():e.lastPost(),s=o.a.forum.attribute("synopsis.excerpt_length"),r=o.a.forum.attribute("synopsis.rich_excerpts");if(n){var i=m("span",null,m.trust(Object(p.truncate)(r?n.contentHtml():n.contentPlain(),s)));t.add("excerpt",i,-100)}}})),Object(r.extend)(l.a.prototype,"oninit",(function(){this.showSynopsisExcerpts=v()(this.user.preferences().showSynopsisExcerpts)})),Object(r.extend)(l.a.prototype,"settingsItems",(function(t){t.add("synopsis",y.a.component({label:app.translator.trans("ianm-synopsis.forum.user.settings.summaries-heading"),className:"Settings-Summaries"},this.summariesItems().toArray()))})),l.a.prototype.summariesItems=function(){var t=this,e=new h.a;return e.add("summary-excerpts",g.a.component({state:this.user.preferences().showSynopsisExcerpts,onchange:function(e){t.showSynopsisExcerptsLoading=!0,t.user.savePreferences({showSynopsisExcerpts:e}).then((function(){t.showSynopsisExcerptsLoading=!1,m.redraw()}))},loading:this.showSynopsisExcerptsLoading},app.translator.trans("ianm-synopsis.forum.user.settings.show-summaries"))),e}}))}]);
//# sourceMappingURL=forum.js.map